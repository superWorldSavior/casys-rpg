import{l as e,j as s,n as a,o as i,C as t,P as n,d as r,p as o,b as l,q as d,I as m,s as u,e as c,f as p}from"./mui-4H20ALa5.js";import{r as x}from"./vendor-0_jEQBB2.js";import{u as h}from"./index-CgZOgMeD.js";import{u as j}from"./router-Csy8SDXT.js";import"./mui-deps-DlUk4hWl.js";const b=e(s.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),f=e(s.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),y=()=>{const e=a(),y=i(e.breakpoints.down("sm")),g=j(),{login:v}=h(),[w,C]=x.useState({username:"",password:""}),[M,I]=x.useState(!1),[S,W]=x.useState(!1),[z,q]=x.useState(""),R=e=>{const{name:s,value:a}=e.target;C((e=>({...e,[s]:a}))),q("")};return s.jsx(t,{component:"main",maxWidth:"xs",sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",p:y?2:3},children:s.jsxs(n,{elevation:3,sx:{p:y?3:4,display:"flex",flexDirection:"column",alignItems:"center",width:"100%",borderRadius:y?2:3,position:"relative"},children:[s.jsx(r,{component:"h1",variant:y?"h5":"h4",sx:{mb:3,fontWeight:600,color:e.palette.primary.main},children:"Connexion"}),z&&s.jsx(o,{severity:"error",sx:{width:"100%",mb:2},children:z}),s.jsxs(l,{component:"form",onSubmit:async e=>{e.preventDefault(),W(!0),q("");try{await v(w),g("/home")}catch(s){q("Identifiants invalides. Veuillez rÃ©essayer.")}finally{W(!1)}},sx:{width:"100%",mt:1},children:[s.jsx(d,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Nom d'utilisateur",name:"username",autoComplete:"username",autoFocus:!0,value:w.username,onChange:R,disabled:S,sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:e.shape.borderRadius}}}),s.jsx(d,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:M?"text":"password",id:"password",autoComplete:"current-password",value:w.password,onChange:R,disabled:S,InputProps:{endAdornment:s.jsx(m,{position:"end",children:s.jsx(u,{"aria-label":"toggle password visibility",onClick:()=>{I(!M)},edge:"end",disabled:S,children:M?s.jsx(f,{}):s.jsx(b,{})})})}}),s.jsx(c,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",sx:{mt:3,mb:2},disabled:S,children:S?s.jsx(p,{size:24}):"Se connecter"})]})]})})};export{y as default};
