import{u as S,j as e,a as p}from"./index-CTdJZ5md.js";import{r as a}from"./vendor-BBF-xwg4.js";import{l as b,j as f,n as j,o as P,d as V,p as W,b as z,q as h,I as A,r as L,e as R,f as q,P as B,C as E}from"./mui-CG_8jc0N.js";import{u as O}from"./router-DvyW0KNU.js";import"./mui-deps-DIjIPAY3.js";const T=b(f.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),k=b(f.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),G=()=>{const r=j(),s=P(r.breakpoints.down("sm")),g=O(),{login:x}=S(),[i,y]=a.useState({username:"",password:""}),[n,w]=a.useState(!1),[t,u]=a.useState(!1),[c,o]=a.useState(""),m=l=>{const{name:d,value:I}=l.target;y(M=>({...M,[d]:I})),o("")},v=async l=>{l.preventDefault(),u(!0),o("");try{await x(i),g("/home")}catch(d){o("Identifiants invalides. Veuillez rÃ©essayer."),console.error("Login failed:",d)}finally{u(!1)}},C=()=>{w(!n)};return e(E,{component:"main",maxWidth:"xs",sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",p:s?2:3},children:p(B,{elevation:3,sx:{p:s?3:4,display:"flex",flexDirection:"column",alignItems:"center",width:"100%",borderRadius:s?2:3,position:"relative"},children:[e(V,{component:"h1",variant:s?"h5":"h4",sx:{mb:3,fontWeight:600,color:r.palette.primary.main},children:"Connexion"}),c&&e(W,{severity:"error",sx:{width:"100%",mb:2},children:c}),p(z,{component:"form",onSubmit:v,sx:{width:"100%",mt:1},children:[e(h,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Nom d'utilisateur",name:"username",autoComplete:"username",autoFocus:!0,value:i.username,onChange:m,disabled:t,sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:r.shape.borderRadius}}}),e(h,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:n?"text":"password",id:"password",autoComplete:"current-password",value:i.password,onChange:m,disabled:t,InputProps:{endAdornment:e(A,{position:"end",children:e(L,{"aria-label":"toggle password visibility",onClick:C,edge:"end",disabled:t,children:n?e(k,{}):e(T,{})})})}}),e(R,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",sx:{mt:3,mb:2},disabled:t,children:t?e(q,{size:24}):"Se connecter"})]})]})})};export{G as default};
//# sourceMappingURL=LoginPage-CJ4MZWkS.js.map
