import{g as L,a as S,s as R,_ as y,r as u,u as T,b as F,j as d,c as N,T as j,d as C,e as V,f as A,h as W,i as _,k as s,l as P,B as $,m as B,C as U,P as k,n as D}from"./index-9ugM70_E.js";import{u as O,I as q}from"./IconButton-2Ex1bWgf.js";import{u as H}from"./useMediaQuery-60n-9YGb.js";import{A as Q}from"./Alert-sSxLQjkJ.js";import{u as G,F as J,T as w}from"./TextField-CM72et0I.js";import"./Modal-BtiFlNZ2.js";import"./Grow-DJRA9axK.js";function K(t){return S("MuiInputAdornment",t)}const I=L("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var z;const X=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Y=(t,e)=>{const{ownerState:o}=t;return[e.root,e[`position${C(o.position)}`],o.disablePointerEvents===!0&&e.disablePointerEvents,e[o.variant]]},Z=t=>{const{classes:e,disablePointerEvents:o,hiddenLabel:a,position:n,size:c,variant:r}=t,p={root:["root",o&&"disablePointerEvents",n&&`position${C(n)}`,r,a&&"hiddenLabel",c&&`size${C(c)}`]};return V(p,K,e)},ee=R("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Y})(({theme:t,ownerState:e})=>y({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${I.positionStart}&:not(.${I.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),te=u.forwardRef(function(e,o){const a=T({props:e,name:"MuiInputAdornment"}),{children:n,className:c,component:r="div",disablePointerEvents:p=!1,disableTypography:l=!1,position:m,variant:h}=a,b=F(a,X),i=G()||{};let v=h;h&&i.variant,i&&!v&&(v=i.variant);const g=y({},a,{hiddenLabel:i.hiddenLabel,size:i.size,disablePointerEvents:p,position:m,variant:v}),f=Z(g);return d.jsx(J.Provider,{value:null,children:d.jsx(ee,y({as:r,ownerState:g,className:N(f.root,c),ref:o},b,{children:typeof n=="string"&&!l?d.jsx(j,{color:"text.secondary",children:n}):d.jsxs(u.Fragment,{children:[m==="start"?z||(z=d.jsx("span",{className:"notranslate",children:"​"})):null,n]})}))})}),se=A(d.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility"),ne=A(d.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),ue=()=>{const t=O(),e=H(t.breakpoints.down("sm")),o=W(),{login:a}=_(),[n,c]=u.useState({username:"",password:""}),[r,p]=u.useState(!1),[l,m]=u.useState(!1),[h,b]=u.useState(""),i=f=>{const{name:x,value:E}=f.target;c(M=>({...M,[x]:E})),b("")},v=async f=>{f.preventDefault(),m(!0),b("");try{await a(n),o("/home")}catch(x){b("Identifiants invalides. Veuillez réessayer."),console.error("Login failed:",x)}finally{m(!1)}},g=()=>{p(!r)};return s(D,{component:"main",maxWidth:"xs",sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",p:e?2:3},children:P(k,{elevation:3,sx:{p:e?3:4,display:"flex",flexDirection:"column",alignItems:"center",width:"100%",borderRadius:e?2:3,position:"relative"},children:[s(j,{component:"h1",variant:e?"h5":"h4",sx:{mb:3,fontWeight:600,color:t.palette.primary.main},children:"Connexion"}),h&&s(Q,{severity:"error",sx:{width:"100%",mb:2},children:h}),P($,{component:"form",onSubmit:v,sx:{width:"100%",mt:1},children:[s(w,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Nom d'utilisateur",name:"username",autoComplete:"username",autoFocus:!0,value:n.username,onChange:i,disabled:l,sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:t.shape.borderRadius}}}),s(w,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:r?"text":"password",id:"password",autoComplete:"current-password",value:n.password,onChange:i,disabled:l,InputProps:{endAdornment:s(te,{position:"end",children:s(q,{"aria-label":"toggle password visibility",onClick:g,edge:"end",disabled:l,children:r?s(ne,{}):s(se,{})})})}}),s(B,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",sx:{mt:3,mb:2},disabled:l,children:l?s(U,{size:24}):"Se connecter"})]})]})})};export{ue as default};
//# sourceMappingURL=LoginPage-C1iYY-pK.js.map
