const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage-Ks7jLlyB.js","assets/mui-DG192JM1.js","assets/vendor-Dq37Ohfu.js","assets/mui-deps-Dl9IqMiS.js","assets/router-B6Hy40oI.js","assets/index-BbfD2Cuh.js","assets/NavigateBefore-aiSEENI0.js","assets/index-B1aLNUSW.js","assets/index-B1N-bqB5.js","assets/index-DoX2NHeq.js","assets/index-DwimLExy.js"])))=>i.map(i=>d[i]);
import{u as e,i as r,j as t,P as o,B as n,a as s,A as a,T as i,b as l,d,e as c,C as u,f as h,g as m,h as p,k as f}from"./mui-DG192JM1.js";import{e as x,r as v,b as g,c as j}from"./vendor-Dq37Ohfu.js";import{u as y,a as b,L as F,O as _,N as E,c as C,R as S}from"./router-B6Hy40oI.js";import"./mui-deps-Dl9IqMiS.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&r(e)})).observe(document,{childList:!0,subtree:!0})}function r(e){if(e.ep)return;e.ep=!0;const r=function(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?r.credentials="include":"anonymous"===e.crossOrigin?r.credentials="omit":r.credentials="same-origin",r}(e);fetch(e.href,r)}}();var k={},P=x;k.createRoot=P.createRoot,k.hydrateRoot=P.hydrateRoot;const B=v.createContext(null),A={didCatch:!1,error:null};class O extends v.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=A}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var r,t,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];null===(r=(t=this.props).onReset)||void 0===r||r.call(t,{args:n,reason:"imperative-api"}),this.setState(A)}}componentDidCatch(e,r){var t,o;null===(t=(o=this.props).onError)||void 0===t||t.call(o,e,r)}componentDidUpdate(e,r){const{didCatch:t}=this.state,{resetKeys:o}=this.props;var n,s;t&&null!==r.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==r.length||e.some(((e,t)=>!Object.is(e,r[t])))}(e.resetKeys,o)&&(null===(n=(s=this.props).onReset)||void 0===n||n.call(s,{next:o,prev:e.resetKeys,reason:"keys"}),this.setState(A))}render(){const{children:e,fallbackRender:r,FallbackComponent:t,fallback:o}=this.props,{didCatch:n,error:s}=this.state;let a=e;if(n){const e={error:s,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof r)a=r(e);else if(t)a=v.createElement(t,e);else{if(void 0===o)throw s;a=o}}return v.createElement(B.Provider,{value:{didCatch:n,error:s,resetErrorBoundary:this.resetErrorBoundary}},a)}}const z={},M=function(e,r,t){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),t=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));o=Promise.allSettled(r.map((e=>{if((e=function(e){return"/"+e}(e))in z)return;z[e]=!0;const r=e.endsWith(".css"),o=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const n=document.createElement("link");return n.rel=r?"stylesheet":"modulepreload",r||(n.as="script"),n.crossOrigin="",n.href=e,t&&n.setAttribute("nonce",t),document.head.appendChild(n),r?new Promise(((r,t)=>{n.addEventListener("load",r),n.addEventListener("error",(()=>t(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function n(e){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=e,window.dispatchEvent(r),!r.defaultPrevented)throw e}return o.then((r=>{for(const e of r||[])"rejected"===e.status&&n(e.reason);return e().catch(n)}))};var w={},I={};const R=g(e);var L;function V(){return L||(L=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=R}(I)),I}var H=r;Object.defineProperty(w,"__esModule",{value:!0});var T=w.default=void 0,W=H(V()),D=t;T=w.default=(0,W.default)([(0,D.jsx)("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),(0,D.jsx)("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")],"MenuBook");var N={},q=r;Object.defineProperty(N,"__esModule",{value:!0});var K=N.default=void 0,U=q(V()),$=t;K=N.default=(0,U.default)((0,$.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var J={},G=r;Object.defineProperty(J,"__esModule",{value:!0});var X=J.default=void 0,Q=G(V()),Y=t;X=J.default=(0,Q.default)((0,Y.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9H9V9h10zm-4 4H9v-2h6zm4-8H9V5h10z"}),"LibraryBooks");var Z={},ee=r;Object.defineProperty(Z,"__esModule",{value:!0});var re=Z.default=void 0,te=ee(V()),oe=t;re=Z.default=(0,te.default)((0,oe.jsx)("path",{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2.19 12.19L6 18l3.81-8.19L18 6z"}),"Explore");var ne={},se=r;Object.defineProperty(ne,"__esModule",{value:!0});var ae=ne.default=void 0,ie=se(V()),le=t;ae=ne.default=(0,ie.default)((0,le.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");const de=()=>{const e=y(),r=b(),[a,i]=j.useState((()=>{const e=r.pathname;return"/"===e||"/home"===e?"/home":e}));return t.jsx(o,{sx:{position:"fixed",bottom:0,left:0,right:0,display:{xs:"block",sm:"none"},zIndex:1e3},elevation:3,children:t.jsxs(n,{value:a,onChange:(r,t)=>{i(t),e(t)},children:[t.jsx(s,{label:"Accueil",value:"/home",icon:t.jsx(K,{})}),t.jsx(s,{label:"Bibliothèque",value:"/library",icon:t.jsx(X,{})}),t.jsx(s,{label:"Parcourir",value:"/browse",icon:t.jsx(re,{})}),t.jsx(s,{label:"Profil",value:"/profile",icon:t.jsx(ae,{})})]})})},ce=()=>t.jsxs(t.Fragment,{children:[t.jsx(a,{position:"static",children:t.jsxs(i,{children:[t.jsxs(l,{display:"flex",alignItems:"center",sx:{flexGrow:1},children:[t.jsx(T,{sx:{mr:1,color:"primary.main"}}),t.jsx(d,{variant:"h6",component:F,to:"/",sx:{textDecoration:"none",color:"text.primary",fontWeight:600,"&:hover":{color:"primary.main"}},children:"Casys.AI"})]}),t.jsx(c,{color:"primary",component:F,to:"/library",sx:{fontWeight:500,display:{xs:"none",sm:"block"},"&:hover":{backgroundColor:"primary.light"}},children:"Bibliothèque"})]})}),t.jsx(u,{maxWidth:"xl",sx:{mt:4,minHeight:"calc(100vh - 64px)",backgroundColor:"background.default",py:3,pb:{xs:9,sm:3},overflowX:"hidden"},children:t.jsx(v.Suspense,{fallback:t.jsx(l,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:t.jsx(h,{})}),children:t.jsx(_,{})})}),t.jsx(de,{})]}),ue=v.createContext(null),he=({children:e})=>{const[r,o]=v.useState(null),[n,s]=v.useState(!0);return v.useEffect((()=>{const e=localStorage.getItem("user");if(e)try{const r=JSON.parse(e);o(r)}catch(r){localStorage.removeItem("user")}s(!1)}),[]),n?t.jsx("div",{children:"Chargement..."}):t.jsx(ue.Provider,{value:{user:r,login:e=>{o(e),localStorage.setItem("user",JSON.stringify(e))},logout:()=>{o(null),localStorage.removeItem("user")}},children:e})},me=()=>{const e=v.useContext(ue);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},pe=({children:e})=>{const{user:r}=me(),o=b();return r?t.jsx(t.Fragment,{children:e}):t.jsx(E,{to:"/login",state:{from:o},replace:!0})},fe=v.lazy((()=>M((()=>import("./LoginPage-Ks7jLlyB.js")),__vite__mapDeps([0,1,2,3,4])).then((e=>({default:e.default||e}))))),xe=v.lazy((()=>M((()=>import("./index-BbfD2Cuh.js")),__vite__mapDeps([5,1,2,3,6,4])).then((e=>({default:e.default||e}))))),ve=v.lazy((()=>M((()=>import("./index-B1aLNUSW.js")),__vite__mapDeps([7,1,2,3,6,4])).then((e=>({default:e.default||e}))))),ge=v.lazy((()=>M((()=>import("./index-B1N-bqB5.js")),__vite__mapDeps([8,1,2,3])).then((e=>({default:e.default||e}))))),je=v.lazy((()=>M((()=>import("./index-DoX2NHeq.js")),__vite__mapDeps([9,1,2,3])).then((e=>({default:e.default||e}))))),ye=v.lazy((()=>M((()=>import("./index-DwimLExy.js")),__vite__mapDeps([10,1,2,3])).then((e=>({default:e.default||e}))))),be=()=>t.jsx(pe,{children:t.jsx(ce,{})}),Fe=({children:e})=>t.jsx(v.Suspense,{fallback:t.jsx("div",{children:"Chargement..."}),children:e}),_e=C([{path:"/login",element:t.jsx(Fe,{children:t.jsx(fe,{})})},{path:"/",element:t.jsx(be,{}),children:[{index:!0,element:t.jsx(E,{to:"/home",replace:!0})},{path:"home",element:t.jsx(Fe,{children:t.jsx(xe,{})})},{path:"library",element:t.jsx(Fe,{children:t.jsx(je,{})})},{path:"browse",element:t.jsx(Fe,{children:t.jsx(ge,{})})},{path:"profile",element:t.jsx(Fe,{children:t.jsx(ye,{})})},{path:"reader/:bookId",element:t.jsx(Fe,{children:t.jsx(ve,{})})},{path:"*",element:t.jsx(E,{to:"/home",replace:!0})}]}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0,v7_fetcherPersist:!0,v7_normalizeFormMethod:!0,v7_partialHydration:!0,v7_skipActionErrorRevalidation:!0}}),Ee=m({palette:{primary:{main:"#6200EE",light:"#7F39FB",dark:"#4B0082",contrastText:"#FFFFFF"},secondary:{main:"#343A40",light:"#4B545C",dark:"#23272B",contrastText:"#FFFFFF"},background:{default:"#FFFFFF",paper:"#FFFFFF"},text:{primary:"#000000",secondary:"#343A40"}},typography:{fontFamily:"'Arial', 'Helvetica', sans-serif",h1:{fontWeight:700,fontSize:"2.5rem",color:"#343A40",marginBottom:"1rem"},h2:{fontWeight:600,fontSize:"2rem",color:"#343A40",marginBottom:"0.875rem"},h3:{fontWeight:600,fontSize:"1.75rem",color:"#343A40",marginBottom:"0.75rem"},h4:{fontWeight:600,fontSize:"1.5rem",color:"#343A40",marginBottom:"0.625rem"},h5:{fontWeight:500,fontSize:"1.25rem",color:"#343A40",marginBottom:"0.5rem"},h6:{fontWeight:500,fontSize:"1rem",color:"#343A40",marginBottom:"0.5rem"},body1:{fontSize:"1rem",lineHeight:1.6},button:{textTransform:"none",fontWeight:500}},spacing:8,shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,padding:"8px 24px",fontWeight:500},contained:{backgroundColor:"#6200EE","&:hover":{backgroundColor:"#4B0082"},boxShadow:"none"},outlined:{borderColor:"#6200EE",color:"#6200EE","&:hover":{borderColor:"#4B0082",color:"#4B0082",backgroundColor:"rgba(98, 0, 238, 0.04)"}}}},MuiCard:{styleOverrides:{root:{backgroundColor:"#FFFFFF",borderRadius:12,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)",padding:"24px"}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"#FFFFFF",color:"#000000",boxShadow:"0px 1px 4px rgba(0, 0, 0, 0.1)"}}},MuiContainer:{styleOverrides:{root:{backgroundColor:"#FFFFFF",padding:"24px"}}}}}),Ce=()=>t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"white"},children:"Chargement..."}),Se=({error:e})=>t.jsxs("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:[t.jsx("h2",{children:"Une erreur est survenue"}),t.jsx("pre",{children:e.message})]}),ke=()=>t.jsx(j.StrictMode,{children:t.jsx(O,{FallbackComponent:Se,children:t.jsx(v.Suspense,{fallback:t.jsx(Ce,{}),children:t.jsxs(p,{theme:Ee,children:[t.jsx(f,{}),t.jsx(he,{children:t.jsx(S,{router:_e,fallbackElement:t.jsx(Ce,{})})})]})})})});k.createRoot(document.getElementById("root")).render(t.jsx(ke,{}));export{T as d,V as r,me as u};
