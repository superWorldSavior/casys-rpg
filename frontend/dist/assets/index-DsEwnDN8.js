var me=Object.defineProperty;var fe=(e,t,n)=>t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Z=(e,t,n)=>fe(e,typeof t!="symbol"?t+"":t,n);import{o as J,p as ge,g as R,a as k,s as N,P as se,r as g,u as _,b as E,_ as f,j as S,c as B,e as A,q as xe,t as T,v as L,w as ie,x as Q,y as ve,z as we,R as Ce,k as a,l as y,B as w,T as O,m as ae,h as ye,F as Se,n as be}from"./index-9ugM70_E.js";import{P as $e}from"./PDFPreview-C1BTgJDJ.js";import{u as oe}from"./IconButton-2Ex1bWgf.js";import{u as ce}from"./useMediaQuery-60n-9YGb.js";import{S as Me}from"./Snackbar-D_var6k4.js";import{A as Re}from"./Alert-sSxLQjkJ.js";import"./Close-CI1EJeWV.js";import"./Modal-BtiFlNZ2.js";import"./Grow-DJRA9axK.js";function ke(e,t=0,n=1){return ge(e,t,n)}function Ne(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function le(e){if(e.type)return e;if(e.charAt(0)==="#")return le(Ne(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(J(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(J(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function _e(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Ee(e,t){return e=le(e),t=ke(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,_e(e)}function Be(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Ae(e){return parseFloat(e)}function Ie(e){return k("MuiCard",e)}R("MuiCard",["root"]);const je=["className","raised"],We=e=>{const{classes:t}=e;return A({root:["root"]},Ie,t)},Oe=N(se,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),de=g.forwardRef(function(t,n){const r=_({props:t,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=E(r,je),c=f({},r,{raised:s}),d=We(c);return S.jsx(Oe,f({className:B(d.root,i),elevation:s?8:void 0,ref:n,ownerState:c},o))});function Pe(e){return k("MuiCardActions",e)}R("MuiCardActions",["root","spacing"]);const De=["disableSpacing","className"],Ge=e=>{const{classes:t,disableSpacing:n}=e;return A({root:["root",!n&&"spacing"]},Pe,t)},ze=N("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>f({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Ue=g.forwardRef(function(t,n){const r=_({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:s}=r,o=E(r,De),c=f({},r,{disableSpacing:i}),d=Ge(c);return S.jsx(ze,f({className:B(d.root,s),ownerState:c,ref:n},o))});function Te(e){return k("MuiCardContent",e)}R("MuiCardContent",["root"]);const Fe=["className","component"],Ve=e=>{const{classes:t}=e;return A({root:["root"]},Te,t)},Le=N("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Ke=g.forwardRef(function(t,n){const r=_({props:t,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=E(r,Fe),c=f({},r,{component:s}),d=Ve(c);return S.jsx(Le,f({as:s,className:B(d.root,i),ownerState:c,ref:n},o))});function qe(e){return k("MuiCardMedia",e)}R("MuiCardMedia",["root","media","img"]);const Xe=["children","className","component","image","src","style"],He=e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e;return A({root:["root",n&&"media",r&&"img"]},qe,t)},Ze=N("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:i}=n;return[t.root,r&&t.media,i&&t.img]}})(({ownerState:e})=>f({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),Je=["video","audio","picture","iframe","img"],Qe=["picture","img"],Ye=g.forwardRef(function(t,n){const r=_({props:t,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:c,src:d,style:p}=r,l=E(r,Xe),m=Je.indexOf(o)!==-1,x=!m&&c?f({backgroundImage:`url("${c}")`},p):p,v=f({},r,{component:o,isMediaComponent:m,isImageComponent:Qe.indexOf(o)!==-1}),b=He(v);return S.jsx(Ze,f({className:B(b.root,s),as:o,role:!m&&c?"img":void 0,ref:n,style:x,ownerState:v,src:m?c||d:void 0},l,{children:i}))}),Y=g.createContext();function et(e){return k("MuiGrid",e)}const tt=[0,1,2,3,4,5,6,7,8,9,10],rt=["column-reverse","column","row-reverse","row"],nt=["nowrap","wrap-reverse","wrap"],W=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],P=R("MuiGrid",["root","container","item","zeroMinWidth",...tt.map(e=>`spacing-xs-${e}`),...rt.map(e=>`direction-xs-${e}`),...nt.map(e=>`wrap-xs-${e}`),...W.map(e=>`grid-xs-${e}`),...W.map(e=>`grid-sm-${e}`),...W.map(e=>`grid-md-${e}`),...W.map(e=>`grid-lg-${e}`),...W.map(e=>`grid-xl-${e}`)]),st=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function M(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function it({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let s={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=T({values:t.columns,breakpoints:e.breakpoints.values}),c=typeof o=="object"?o[i]:o;if(c==null)return r;const d=`${Math.round(n/c*1e8)/1e6}%`;let p={};if(t.container&&t.item&&t.columnSpacing!==0){const l=e.spacing(t.columnSpacing);if(l!=="0px"){const m=`calc(${d} + ${M(l)})`;p={flexBasis:m,maxWidth:m}}}s=f({flexBasis:d,flexGrow:0,maxWidth:d},p)}return e.breakpoints.values[i]===0?Object.assign(r,s):r[e.breakpoints.up(i)]=s,r},{})}function at({theme:e,ownerState:t}){const n=T({values:t.direction,breakpoints:e.breakpoints.values});return L({theme:e},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${P.item}`]={maxWidth:"none"}),i})}function ue({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,s)=>e[i]-e[s]);return r.slice(0,r.indexOf(n))}function ot({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const s=T({values:r,breakpoints:e.breakpoints.values});let o;typeof s=="object"&&(o=ue({breakpoints:e.breakpoints.values,values:s})),i=L({theme:e},s,(c,d)=>{var p;const l=e.spacing(c);return l!=="0px"?{marginTop:`-${M(l)}`,[`& > .${P.item}`]:{paddingTop:M(l)}}:(p=o)!=null&&p.includes(d)?{}:{marginTop:0,[`& > .${P.item}`]:{paddingTop:0}}})}return i}function ct({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const s=T({values:r,breakpoints:e.breakpoints.values});let o;typeof s=="object"&&(o=ue({breakpoints:e.breakpoints.values,values:s})),i=L({theme:e},s,(c,d)=>{var p;const l=e.spacing(c);return l!=="0px"?{width:`calc(100% + ${M(l)})`,marginLeft:`-${M(l)}`,[`& > .${P.item}`]:{paddingLeft:M(l)}}:(p=o)!=null&&p.includes(d)?{}:{width:"100%",marginLeft:0,[`& > .${P.item}`]:{paddingLeft:0}}})}return i}function lt(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const s=e[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const dt=N("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:s,spacing:o,wrap:c,zeroMinWidth:d,breakpoints:p}=n;let l=[];r&&(l=lt(o,p,t));const m=[];return p.forEach(x=>{const v=n[x];v&&m.push(t[`grid-${x}-${String(v)}`])}),[t.root,r&&t.container,s&&t.item,d&&t.zeroMinWidth,...l,i!=="row"&&t[`direction-xs-${String(i)}`],c!=="wrap"&&t[`wrap-xs-${String(c)}`],...m]}})(({ownerState:e})=>f({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),at,ot,ct,it);function ut(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const pt=e=>{const{classes:t,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:c,breakpoints:d}=e;let p=[];n&&(p=ut(s,d));const l=[];d.forEach(x=>{const v=e[x];v&&l.push(`grid-${x}-${String(v)}`)});const m={root:["root",n&&"container",i&&"item",c&&"zeroMinWidth",...p,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...l]};return A(m,et,t)},z=g.forwardRef(function(t,n){const r=_({props:t,name:"MuiGrid"}),{breakpoints:i}=oe(),s=xe(r),{className:o,columns:c,columnSpacing:d,component:p="div",container:l=!1,direction:m="row",item:x=!1,rowSpacing:v,spacing:b=0,wrap:I="wrap",zeroMinWidth:F=!1}=s,j=E(s,st),u=v||b,$=d||b,q=g.useContext(Y),D=l?c||12:q,h={},X=f({},j);i.keys.forEach(G=>{j[G]!=null&&(h[G]=j[G],delete X[G])});const H=f({},s,{columns:D,container:l,direction:m,item:x,rowSpacing:u,columnSpacing:$,wrap:I,zeroMinWidth:F,spacing:b},h,{breakpoints:i.keys}),he=pt(H);return S.jsx(Y.Provider,{value:D,children:S.jsx(dt,f({ownerState:H,className:B(he.root,o),as:p,ref:n},X))})});function ht(e){return k("MuiSkeleton",e)}R("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const mt=["animation","className","component","height","style","variant","width"];let U=e=>e,ee,te,re,ne;const ft=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:o}=e;return A({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},ht,t)},gt=ie(ee||(ee=U`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),xt=ie(te||(te=U`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),vt=N("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const n=Be(e.shape.borderRadius)||"px",r=Ae(e.shape.borderRadius);return f({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Ee(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&Q(re||(re=U`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),gt),({ownerState:e,theme:t})=>e.animation==="wave"&&Q(ne||(ne=U`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),xt,(t.vars||t).palette.action.hover)),C=g.forwardRef(function(t,n){const r=_({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:c,style:d,variant:p="text",width:l}=r,m=E(r,mt),x=f({},r,{animation:i,component:o,variant:p,hasChildren:!!m.children}),v=ft(x);return S.jsx(vt,f({as:o,ref:n,className:B(v.root,s),ownerState:x},m,{style:f({width:l,height:c},d)}))});var K={},wt=we;Object.defineProperty(K,"__esModule",{value:!0});var pe=K.default=void 0,Ct=wt(ve()),yt=S,St=(0,Ct.default)((0,yt.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");pe=K.default=St;class V extends Ce.Component{constructor(n){super(n);Z(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by boundary:",n,r),this.setState({errorInfo:r})}render(){return this.state.hasError?a(w,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"200px",p:3},children:y(se,{elevation:3,sx:{p:4,maxWidth:"600px",width:"100%",textAlign:"center"},children:[a(w,{component:"h2",sx:{fontSize:"1.5rem",fontWeight:500,mb:2,color:"error.main"},children:"Something went wrong"}),a(O,{variant:"body1",color:"text.secondary",sx:{mb:3},children:this.props.fallbackMessage||"An error occurred while rendering this component."}),!1,a(ae,{variant:"contained",startIcon:a(pe,{}),onClick:this.handleReset,sx:{mt:2},children:"Try Again"})]})}):this.props.children}}const bt=({count:e=6})=>a(z,{container:!0,spacing:3,children:[...Array(e)].map((t,n)=>a(z,{item:!0,xs:12,sm:6,md:4,children:y(de,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[a(C,{variant:"rectangular",height:200,animation:"wave",sx:{m:1}}),y(Ke,{sx:{flexGrow:1},children:[a(C,{variant:"text",height:32,width:"80%",sx:{mb:1}}),a(C,{variant:"text",height:24,width:"60%",sx:{mb:2}}),a(C,{variant:"rounded",height:24,width:"40%",sx:{mb:1}}),a(w,{sx:{mb:2},children:a(C,{variant:"rounded",height:32,width:"100%"})}),y(w,{sx:{display:"flex",gap:1},children:[a(C,{variant:"rounded",height:32,width:"30%"}),a(C,{variant:"rounded",height:32,width:"30%"}),a(C,{variant:"rounded",height:32,width:"30%"})]})]}),y(Ue,{sx:{p:2,justifyContent:"space-between"},children:[a(C,{variant:"rounded",width:100,height:36}),a(C,{variant:"rounded",width:100,height:36})]})]})},`skeleton-${n}`))}),$t=({books:e,onReadBook:t,onPreviewBook:n,theme:r})=>{const i=ce(r.breakpoints.down("sm"));return a(w,{sx:{width:"100%",pb:2,overflowX:i?"auto":"hidden",WebkitOverflowScrolling:"touch","& .MuiGrid-container":{width:i?"auto":"100%",flexWrap:i?"nowrap":"wrap",px:i?2:0}},children:a(z,{container:!0,spacing:2,children:e.map((s,o)=>a(z,{item:!0,xs:8,sm:6,md:4,lg:3,sx:{flexShrink:0,width:i?"calc(150% - 16px)":"auto"},children:a(de,{sx:{height:"100%",position:"relative",cursor:(s==null?void 0:s.status)==="completed"?"pointer":"default",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:(s==null?void 0:s.status)==="completed"?"translateY(-4px)":"none",boxShadow:(s==null?void 0:s.status)==="completed"?6:1}},onClick:()=>(s==null?void 0:s.status)==="completed"&&t(s),children:y(w,{sx:{position:"relative",pt:"140%"},children:[a(Ye,{component:"img",image:`/api/books/${s.id}/cover`,alt:`Couverture de ${s.title}`,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),a(w,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)",p:2,color:"white"},children:a(O,{variant:"h6",sx:{fontWeight:500,textShadow:"1px 1px 2px rgba(0,0,0,0.5)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(s==null?void 0:s.title)||"Sans titre"})})]})})},`book-${(s==null?void 0:s.id)||o}`))})})},Wt=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!0);g.useState(!1);const[i,s]=g.useState(null),[o,c]=g.useState(""),[d,p]=g.useState(!1),[l,m]=g.useState(null),x=oe(),v=ce(x.breakpoints.down("sm")),b=ye();g.useEffect(()=>{I();const u=setInterval(I,5e3);return()=>clearInterval(u)},[]);const I=async()=>{try{s(null),r(!0);const u=await fetch("/api/books");if(u.status===404){t([]);return}if(!u.ok){const h=await u.text();throw u.status>=500&&console.error(`Server error (${u.status}):`,h),new Error(`Impossible de charger la bibliothèque (${u.status})`)}let $;try{$=await u.json()}catch(h){throw console.error("Invalid JSON response:",h),new Error("Format de réponse invalide")}if(!$||typeof $!="object")throw new Error("Structure de données invalide");const D=(Array.isArray($.books)?$.books:[]).map((h={})=>!h.id&&!h.filename?(console.warn("Book missing required identifier:",h),null):{id:h.id||h.filename,title:h.title||"Sans titre",author:h.author||"Auteur inconnu",filename:h.filename||"",uploadDate:h.uploadDate||new Date().toISOString(),status:h.status||"pending",current_page:parseInt(h.current_page,10)||0,total_pages:parseInt(h.total_pages,10)||0,processed_sections:parseInt(h.processed_sections,10)||0,processed_images:parseInt(h.processed_images,10)||0,error_message:h.error_message||null,...h}).filter(Boolean);t(D)}catch(u){u instanceof TypeError||u instanceof SyntaxError||console.error("Unexpected error fetching books:",u),s(u.message),t([])}finally{r(!1)}},F=u=>{if((u==null?void 0:u.status)!=="completed"){s("This book is not ready for reading yet");return}b(`/books/${u.id}`)},j=u=>{if((u==null?void 0:u.status)!=="completed"){s("This book is not ready for preview yet");return}m(u),p(!0)};return y(be,{maxWidth:"lg",sx:{py:4},children:[y(w,{sx:{mb:4,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2,p:2,borderRadius:2,bgcolor:"background.paper"},children:[a(w,{children:a(O,{variant:v?"h5":"h4",sx:{fontWeight:500,color:"primary.main",mb:2},children:"Bibliothèque"})}),a(w,{sx:{display:"flex",gap:2,flexWrap:"wrap"}})]}),a(Me,{open:!!o,autoHideDuration:6e3,onClose:()=>c(""),message:o}),i&&a(Re,{severity:"error",sx:{mb:3},onClose:()=>s(null),action:a(ae,{color:"inherit",size:"small",onClick:I,children:"Retry"}),children:i}),n?a(V,{fallbackMessage:"Error displaying skeleton loader",children:a(bt,{count:6})}):y(Se,{children:[Array.isArray(e)&&e.length===0&&y(w,{sx:{textAlign:"center",mt:4,p:4,backgroundColor:"background.paper",borderRadius:2,border:1,borderColor:"divider"},children:[a(O,{variant:"h6",color:"text.secondary",children:"No books in library"}),a(O,{variant:"body1",color:"text.secondary",sx:{mt:1},children:"Start by uploading a PDF"})]}),Array.isArray(e)&&e.length>0&&a(V,{fallbackMessage:"Error displaying book grid",children:a($t,{books:e,onReadBook:F,onPreviewBook:j,theme:x})})]}),l&&a(V,{fallbackMessage:"Error displaying PDF preview",children:a($e,{open:d,onClose:()=>{p(!1),m(null)},pdfUrl:`/api/books/${l.filename}`,bookTitle:l.title})})]})};export{Wt as default};
//# sourceMappingURL=index-DsEwnDN8.js.map
