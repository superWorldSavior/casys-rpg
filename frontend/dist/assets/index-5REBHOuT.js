const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage-D6JuIm1u.js","assets/mui-BOmMbq1k.js","assets/vendor-Dq37Ohfu.js","assets/mui-deps-FQPvtg2a.js","assets/router-C0-8wAUP.js","assets/index-Cc6PF53c.js","assets/NavigateBefore-B2SJ5y2h.js","assets/index-DPe6dybB.js"])))=>i.map(i=>d[i]);
import{j as e,a as r,C as t,T as o}from"./mui-BOmMbq1k.js";import{e as n,r as i,c as s}from"./vendor-Dq37Ohfu.js";import{u as a,N as l,c,R as d}from"./router-C0-8wAUP.js";import"./mui-deps-FQPvtg2a.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&r(e)})).observe(document,{childList:!0,subtree:!0})}function r(e){if(e.ep)return;e.ep=!0;const r=function(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?r.credentials="include":"anonymous"===e.crossOrigin?r.credentials="omit":r.credentials="same-origin",r}(e);fetch(e.href,r)}}();var u={},m=n;u.createRoot=m.createRoot,u.hydrateRoot=m.hydrateRoot;const h={},p=function(e,r,t){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),t=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));o=Promise.allSettled(r.map((e=>{if((e=function(e){return"/"+e}(e))in h)return;h[e]=!0;const r=e.endsWith(".css"),o=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const n=document.createElement("link");return n.rel=r?"stylesheet":"modulepreload",r||(n.as="script"),n.crossOrigin="",n.href=e,t&&n.setAttribute("nonce",t),document.head.appendChild(n),r?new Promise(((r,t)=>{n.addEventListener("load",r),n.addEventListener("error",(()=>t(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function n(e){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=e,window.dispatchEvent(r),!r.defaultPrevented)throw e}return o.then((r=>{for(const e of r||[])"rejected"===e.status&&n(e.reason);return e().catch(n)}))},f=i.createContext(null),g=({children:r})=>{const[t,o]=i.useState(null),[n,s]=i.useState(!0);return i.useEffect((()=>{const e=localStorage.getItem("user");if(e)try{const r=JSON.parse(e);o(r)}catch(r){localStorage.removeItem("user")}s(!1)}),[]),n?e.jsx("div",{children:"Chargement..."}):e.jsx(f.Provider,{value:{user:t,login:e=>{o(e),localStorage.setItem("user",JSON.stringify(e))},logout:()=>{o(null),localStorage.removeItem("user")}},children:r})},x=()=>{const e=i.useContext(f);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},F=r({palette:{primary:{main:"#6200EE",light:"#7F39FB",dark:"#4B0082",contrastText:"#FFFFFF"},secondary:{main:"#343A40",light:"#4B545C",dark:"#23272B",contrastText:"#FFFFFF"},background:{default:"#FFFFFF",paper:"#FFFFFF"},text:{primary:"#000000",secondary:"#343A40"}},typography:{fontFamily:"'Arial', 'Helvetica', sans-serif",h1:{fontWeight:700,fontSize:"2.5rem",color:"#343A40",marginBottom:"1rem"},h2:{fontWeight:600,fontSize:"2rem",color:"#343A40",marginBottom:"0.875rem"},h3:{fontWeight:600,fontSize:"1.75rem",color:"#343A40",marginBottom:"0.75rem"},h4:{fontWeight:600,fontSize:"1.5rem",color:"#343A40",marginBottom:"0.625rem"},h5:{fontWeight:500,fontSize:"1.25rem",color:"#343A40",marginBottom:"0.5rem"},h6:{fontWeight:500,fontSize:"1rem",color:"#343A40",marginBottom:"0.5rem"},body1:{fontSize:"1rem",lineHeight:1.6},button:{textTransform:"none",fontWeight:500}},spacing:8,shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,padding:"8px 24px",fontWeight:500},contained:{backgroundColor:"#6200EE","&:hover":{backgroundColor:"#4B0082"},boxShadow:"none"},outlined:{borderColor:"#6200EE",color:"#6200EE","&:hover":{borderColor:"#4B0082",color:"#4B0082",backgroundColor:"rgba(98, 0, 238, 0.04)"}}}},MuiCard:{styleOverrides:{root:{backgroundColor:"#FFFFFF",borderRadius:12,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)",padding:"24px"}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"#FFFFFF",color:"#000000",boxShadow:"0px 1px 4px rgba(0, 0, 0, 0.1)"}}},MuiContainer:{styleOverrides:{root:{backgroundColor:"#FFFFFF",padding:"24px"}}}}}),y=({children:r})=>{const{user:t,loading:o}=x(),n=a();return o?e.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:e.jsx("div",{className:"spinner-border",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Chargement..."})})}):t?r:e.jsx(l,{to:"/login",state:{from:n},replace:!0})},j=i.lazy((()=>p((()=>import("./LoginPage-D6JuIm1u.js")),__vite__mapDeps([0,1,2,3,4])))),v=i.lazy((()=>p((()=>import("./index-Cc6PF53c.js")),__vite__mapDeps([5,1,2,3,6,4])))),b=i.lazy((()=>p((()=>import("./index-DPe6dybB.js")),__vite__mapDeps([7,1,2,3,6,4])))),S=()=>e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:e.jsx(t,{})}),E=c([{path:"/",element:e.jsx(l,{to:"/login",replace:!0})},{path:"/login",element:e.jsx(i.Suspense,{fallback:e.jsx(S,{}),children:e.jsx(j,{})})},{path:"/home",element:e.jsx(y,{children:e.jsx(i.Suspense,{fallback:e.jsx(S,{}),children:e.jsx(v,{})})})},{path:"/reader/:bookId",element:e.jsx(y,{children:e.jsx(i.Suspense,{fallback:e.jsx(S,{}),children:e.jsx(b,{})})})}],{future:{v7_startTransition:!0}});function C(){return e.jsx(o,{theme:F,children:e.jsx(g,{children:e.jsx(d,{router:E})})})}u.createRoot(document.getElementById("root")).render(e.jsx(s.StrictMode,{children:e.jsx(C,{})}));export{x as u};
